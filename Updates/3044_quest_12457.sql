-- q.12457 'The Chain Gun And You'

-- s.49554
DELETE FROM spell_script_target WHERE entry IN (49554,49552);
INSERT INTO spell_script_target (entry,type,targetEntry,inverseEffectMask) VALUES
(49554,1,27795,0),
(49552,1,27712,0);
-- Injured 7th Legion Soldier 27788
UPDATE creature_template SET RegenerateStats = 0 WHERE entry = 27788;
DELETE FROM creature_movement_template WHERE entry = 27788;
INSERT INTO creature_movement_template (entry, pathId, point, position_x, position_y, position_z, orientation, waittime, script_id) VALUES
-- RHS
-- path 1 
(27788,1,1,3705.55,-1131.64,97.7423,100,100,5),
(27788,1,2,3698.01,-1137.39,97.6497,100,0,0),
(27788,1,3,3700.08,-1140.79,97.6497,100,0,0),
(27788,1,4,3699.99,-1154.4,98.0912,100,0,0),
(27788,1,5,3695.04,-1155.58,97.6496,100,0,0),
(27788,1,6,3685.75,-1167.62,98.0913,100,0,0),
(27788,1,7,3691.3,-1175.19,98.0912,100,0,0),
(27788,1,8,3688.88,-1179.74,102.335,100,100,2778801),
(27788,1,9,3677.62,-1179.53,102.335,100,0,0),
(27788,1,10,3677.62,-1179.53,102.335,100,6000,2778802),
-- path 2
(27788,2,1,3702.71,-1130.69,97.6496,100,100,5),
(27788,2,2,3695.03,-1134.73,97.6496,100,0,0),
(27788,2,3,3697.08,-1138.11,97.6496,100,0,0),
(27788,2,4,3701.04,-1154.88,98.0913,100,0,0),
(27788,2,5,3698.02,-1157.48,98.0913,100,0,0),
(27788,2,6,3688.31,-1169.12,98.0913,100,0,0),
(27788,2,7,3691.3,-1175.19,98.0912,100,0,0),
(27788,2,8,3688.88,-1179.74,102.335,100,100,2778801),
(27788,2,9,3677.62,-1179.53,102.335,100,0,0),
(27788,2,10,3677.62,-1179.53,102.335,100,6000,2778802),
-- path 3
(27788,3,1,3699.31,-1129.76,97.6497,100,100,5),
(27788,3,2,3695.91,-1138.11,97.6497,100,0,0),
(27788,3,3,3692.61,-1140.12,97.6497,100,0,0),
(27788,3,4,3689.3,-1153.36,97.6497,100,0,0),
(27788,3,5,3684.24,-1155,97.6497,100,0,0),
(27788,3,6,3684.82,-1165.96,98.0913,100,0,0),
(27788,3,7,3672.47,-1165.67,98.0912,100,0,0),
(27788,3,8,3670.35,-1170.74,102.336,100,100,2778801),
(27788,3,9,3677.62,-1179.53,102.335,100,0,0),
(27788,3,10,3677.62,-1179.53,102.335,100,6000,2778802),
-- LHS
-- path 5
(27788,4,1,3635.37,-1254.94,98.0919,100,100,5),
(27788,4,2,3643.12,-1247.01,98.2603,100,0,0),
(27788,4,3,3642.61,-1243.13,98.1973,100,0,0),
(27788,4,4,3643.49,-1230.12,98.0918,100,0,0),
(27788,4,5,3648.17,-1229.15,98.0918,100,0,0),
(27788,4,6,3656.81,-1217.1,98.0913,100,0,0),
(27788,4,7,3651.696,-1209.714,98.17473,100,0,0),
(27788,4,8,3655.39,-1202.37,102.42,100,100,2778801),
(27788,4,9,3662.813,-1200.575,102.4203,100,0,0),
(27788,4,10,3662.813,-1200.575,102.4203,100,6000,2778802),
-- path 6
(27788,5,1,3637.79,-1255.42,98.0911,100,100,5),
(27788,5,2,3637.51,-1240.59,98.0912,100,0,0),
(27788,5,3,3642.35,-1238.78,98.0912,100,0,0),
(27788,5,4,3650.58,-1231.61,98.2603,100,0,0),
(27788,5,5,3646.83,-1226.49,98.0915,100,0,0),
(27788,5,6,3655.01,-1215.87,98.0915,100,0,0),
(27788,5,7,3651.696,-1209.714,98.17473,100,0,0),
(27788,5,8,3655.39,-1202.37,102.42,100,100,2778801),
(27788,5,9,3662.813,-1200.575,102.4203,100,0,0),
(27788,5,10,3662.813,-1200.575,102.4203,100,6000,2778802),
-- path 7
(27788,6,1,3642.35,-1255.89,98.1081,100,100,5),
(27788,6,2,3645.65,-1244.25,98.2602,100,0,0),
(27788,6,3,3649.27,-1243.62,98.2602,100,0,0),
(27788,6,4,3660.79,-1237.06,98.0913,100,0,0),
(27788,6,5,3663.98,-1232.92,98.0913,100,0,0),
(27788,6,6,3661.01,-1218.03,98.0913,100,0,0),
(27788,6,7,3670.52,-1218.55,98.1747,100,0,0),
(27788,6,8,3673.35,-1212.38,102.42,100,100,2778801),
(27788,6,9,3668.46,-1203.9,102.42,100,0,0),
(27788,6,10,3668.46,-1203.9,102.42,100,6000,2778802);
DELETE FROM dbscripts_on_creature_movement WHERE id BETWEEN 2778801 AND 2778802;
INSERT INTO dbscripts_on_creature_movement (id, delay, command, datalong, datalong2, datalong3, buddy_entry, search_radius, data_flags, dataint, dataint2, dataint3, dataint4, x, y, z, o, comments) VALUES
(2778801,0,14,49553,0,0,0,0,0x04,0,0,0,0,0,0,0,0,'Part of Injured 7th Legion Soldier EAI: Remove Aura'),
(2778802,0,35,5,0,0,0,0,0x04,0,0,0,0,0,0,0,0,'Part of Injured 7th Legion Soldier EAI: Send Event 5'),
(2778802,100,0,0,0,0,0,0,0x04,2000020626,2000020627,2000020628,2000020628,0,0,0,0,'Part of Injured 7th Legion Soldier EAI: random say'),
(2778802,2000,1,66,0,0,0,0,0x04,0,0,0,0,0,0,0,0,'Part of Injured 7th Legion Soldier EAI: emote'),
(2778802,4000,18,0,0,0,0,0,0x04,0,0,0,0,0,0,0,0,'Part of Injured 7th Legion Soldier EAI: despawn Self');
DELETE FROM dbscripts_on_relay WHERE id = 20398;
INSERT INTO dbscripts_on_relay (id, delay, command, datalong, datalong2, datalong3, buddy_entry, search_radius, data_flags, dataint, dataint2, dataint3, dataint4, x, y, z, o, comments) VALUES
(20398,0,0,0,0,0,0,0,0,2000020624,2000020625,2000020624,2000020625,0,0,0,0,'Part of Injured 7th Legion Soldier EAI: Player random say');
DELETE FROM dbscript_string WHERE entry BETWEEN 2000020624 AND 2000020628;
INSERT INTO dbscript_string (entry, content_default, sound, type, language, emote, comment) VALUES
(2000020624,'Come out, soldier! I\'ll cover you!',0,0,7,0,NULL),
(2000020625,'Soldier, run to me! I\'ll clear a path with the chain gun!',0,0,7,0,NULL),
(2000020626,'Thanks for the cover fire! It\'s a MADHOUSE down there! ',0,0,7,0,NULL),
(2000020627,'Wow, I thought I was a goner! Thanks, friend!',0,0,7,0,NULL),
(2000020628,'I was almost ghoul bait! Thanks for the rescue!',0,0,7,0,NULL);

-- Injured Soldier Summon Point 27795
UPDATE creature SET spawndist = 0, MovementType = 2 WHERE guid IN (519682,519683,519684,519685);
DELETE FROM creature_movement WHERE id IN (519682,519683,519684,519685);
INSERT INTO creature_movement (id,point,position_x,position_y,position_z,orientation,waittime,script_id) VALUES
-- 519682 -- LHS
(519682,1,3629.19,-1255.58,98.0914,100,100,2779502),
(519682,2,3634.77,-1258.77,98.0914,100,0,0),
(519682,3,3641.1,-1260.37,98.0914,100,0,0),
(519682,4,3649.29,-1265.23,98.0914,100,0,0),
(519682,5,3641.46,-1260.55,98.0914,100,0,0),
(519682,6,3635.07,-1258.74,98.0914,100,0,0),
-- 519683 -- RHS
(519683,1,3691.08,-1118.1,98.0908,100,100,2779501),
(519683,2,3695.81,-1124.91,98.0908,100,0,0), 
(519683,3,3704.8,-1125.07,98.0908,100,0,0),
(519683,4,3711.41,-1131.34,98.0908,100,0,0),
(519683,5,3705.1,-1125.1,98.0908,100,0,0),
(519683,6,3696.34,-1125.14,98.0908,100,0,0),
-- 519684 -- LHS
(519684,1,3645.71,-1260.36,98.0911,100,100,2779502),
(519684,2,3641.62,-1262.83,98.0911,100,0,0),
(519684,3,3639.74,-1257.3,98.0911,100,0,0),
(519684,4,3636.17,-1259.52,98.0911,100,0,0),
(519684,5,3634.13,-1255.73,98.0911,100,0,0),
(519684,6,3628.83,-1256.64,98.0911,100,0,0),
(519684,7,3633.79,-1255.29,98.0911,100,0,0),
(519684,8,3635.28,-1259.35,98.0911,100,0,0),
(519684,9,3639.42,-1256.95,98.0911,100,0,0),
(519684,10,3641.03,-1262.68,98.0911,100,0,0),
(519684,11,3645.19,-1260.32,98.0911,100,0,0),
(519684,12,3646.65,-1266.01,98.0911,100,0,0),
-- 519685 -- RHS
(519685,1,3690.377,-1120.719,98.09113,100,100,2779501),
(519685,2,3714.914,-1132.5,98.09113,100,0,0);
DELETE FROM dbscripts_on_creature_movement WHERE id BETWEEN 2779501 AND 2779502;
INSERT INTO dbscripts_on_creature_movement (id, delay, command, datalong, datalong2, datalong3, buddy_entry, search_radius, data_flags, dataint, dataint2, dataint3, dataint4, x, y, z, o, comments) VALUES
(2779501,0,35,5,0,0,0,0,0x04,0,0,0,0,0,0,0,0,'Send Event 5'),
(2779502,0,35,6,0,0,0,0,0x04,0,0,0,0,0,0,0,0,'Send Event 6');
